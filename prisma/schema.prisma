datasource db {
  provider = "mysql"
  url      = env("DATABASE_URL")
}

generator client {
  provider = "prisma-client-js"
}

model User {
  user_id    Int      @id @default(autoincrement())
  username   String   @unique
  password   String
  email      String   @unique
  role       Role
  created_at DateTime @default(now())

  @@map("tbl_users")
}

model Student {
  student_id         Int       @id @default(autoincrement())
  user_id            Int
  first_name         String
  last_name          String
  year_level_id      Int
  strand_id          Int?
  course_id          Int?
  tesda_course_id    Int?

  @@map("tbl_students")
}

model Event {
  event_id          Int       @id @default(autoincrement())
  admin_id          Int
  event_title       String
  event_description String?
  start_date        DateTime
  end_date          DateTime
  created_at        DateTime @default(now())

  @@map("tbl_events")
}

model EventCriteria {
  criteria_id      Int       @id @default(autoincrement())
  event_id         Int
  criteria_name    String
  max_score        Int

  @@map("tbl_event_criteria")
}

model Evaluation {
  evaluation_id Int       @id @default(autoincrement())
  event_id      Int
  student_id    Int

  @@map("tbl_evaluations")
}

model EvaluationDetail {
  evaluation_detail_id Int @id @default(autoincrement())
  evaluation_id       Int
  criteria_id         Int
  score               Int

  @@map("tbl_evaluation_details")
}

model YearLevelType {
  year_level_id   Int      @id @default(autoincrement())
  year_level_type String

  @@map("tbl_year_level_type")
}

model Strand {
  strand_id     Int      @id @default(autoincrement())
  strand_name   String

  @@map("tbl_strand")
}

model Course {
  course_id     Int      @id @default(autoincrement())
  course_name   String

  @@map("tbl_courses")
}

model TesdaCourse {
  tesda_course_id Int    @id @default(autoincrement())
  course_name     String

  @@map("tbl_tesda_courses")
}

enum Role {
  admin
  student
}
